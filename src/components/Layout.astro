---
import "../styles/base.css";

const { title = "AstroN00b" } = Astro.props;

// Build time is set at build time via environment variable or defaults to current time
const buildTime = import.meta.env.BUILD_TIME || new Date().toISOString();
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.svg" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous" />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;600&family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <nav>
        <a href="/">Astron00b</a>
        <a href="/start-here">Start Here</a>
        <a href="/tools">Tools</a>
        <a href="/learn">Learn</a>
        <a href="/about">About</a>
        <span class="header-lst" data-field="header-lst">LST: --:--:--</span>
        <span class="auth-menu" data-auth-menu>
          <a href="/api/auth/login" data-auth-login style="display: none;">Login</a>
          <span data-auth-user style="display: none;">
            <a href="/dashboard" data-username></a>
            <a href="/api/auth/logout">Logout</a>
          </span>
        </span>
      </nav>
    </header>
    <main>
      <slot />
    </main>
    <footer>
      <p>Â© {new Date().getFullYear()} AstroN00b</p>
      <p style="opacity: 0.3; font-size: 0.7rem; margin-top: 0.5rem;">
        Build: {buildTime}
      </p>
    </footer>
    <script src="../scripts/headerLST.js"></script>
    <script src="../scripts/authMenu.js"></script>

  </body>
</html>


